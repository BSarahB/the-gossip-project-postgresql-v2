<html>
  <head>
    <title>Créer un potin</title>
  </head>

 <% if @gossip.errors.any? %>
 <!-- Alerte Bootstrap-->
  <div class="alert alert-danger" role="alert">
    <p>Nous n'avons pas réussi à créer le potin pour la (ou les) raison(s) suivante(s) :</p>
    <ul>
      <% @gossip.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
    </ul>
  </div>
  <% end %>

  <body>
    <h1>Crée un potin !</h1>
    <p>Balance ton potin via le formulaire ci-dessous</p>

<!-- Formulaire form_tag du https://launchschool.com/books/demystifying_rails/read/form_helpers#formtag -->
    
 <!--Le formulaire va POINTER vers la methode #create dans le controller gossips Jamy, nous dit c'est pas super intuitif, mais PAR CONVENTION le POST de création va à /gossips et non pas /gossips/new -->

 <%= form_tag url_for(action: 'create'), method: "post", class: "form" do %>

 <!-- L authenticity token va nous permettre de securiser la requete -->
   <input type="hidden" name="authenticity_token" value=<%= form_authenticity_token %> >

      <%= label_tag 'Titre du potin' %>
      <%= text_field_tag 'title'%>
      <br/> <br/>
      <%= label_tag 'Contenu du potin' %>
      <%= text_area_tag 'content'%>
      <br/> <br/>
      <%= submit_tag "Create Gossip" %>
    <% end %>
 </body>>
</html>